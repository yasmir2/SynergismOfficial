var upgdesc1 = "Increase production of Workers per producer bought." //Coin Upgrades 1-20
var upgdesc2 = "Increase production of Investments per producer bought."
var upgdesc3 = "Increase production of Printers per producer bought."
var upgdesc4 = "Increase production of Mints per producer bought."
var upgdesc5 = "Increase production of Alchemies per producer bought."
var upgdesc6 = "Increase all production by 25% per producer bought."
var upgdesc7 = "Gain free multipliers based on your purchased Alchemies."
var upgdesc8 = "Gain 1 free Accelerator per 7 purchased Multipliers."
var upgdesc9 = "Gain 1 free Multiplier per 10 purchased Accelerators."
var upgdesc10 = "Improve Workers based on the first 750 purchased Investments."
var upgdesc11 = "Accelerators improve generation production by 2% each."
var upgdesc12 = "Each prestige multiplies production by 1.01, multiplicatively (Max: 1e4x)."
var upgdesc13 = "Augments buff the production of Investments."
var upgdesc14 = "Free Accelerators buff generation of Printers."
var upgdesc15 = "Free Accelerators buff generation of Mints."
var upgdesc16 = "Acceleration Multiplier buffs Diamond gain."
var upgdesc17 = "Multiply Mint production by 1e+100."
var upgdesc18 = "Multiply Printer production based on Mythos Shards."
var upgdesc19 = "Multiply Investment production based on Mythos."
var upgdesc20 = "Coin upgrade 1 is raised to the eleventh power."
var upgdesc21 = "Gain 1 Multiplier and 5 Accelerators plus 1% more free Multipliers/Accelerators." //Prestige Upgrades 21-40
var upgdesc22 = "Gain 1 Multiplier and 4 Accelerators plus 1% more free Multipliers/Accelerators."
var upgdesc23 = "Gain 1 Multiplier and 3 Accelerators plus 1% more free Multipliers/Accelerators."
var upgdesc24 = "Gain 1 Multiplier and 2 Accelerators plus 1% more free Multipliers/Accelerators."
var upgdesc25 = "Gain 1 Multiplier and 1 Accelerators plus 1% more free Multipliers/Accelerators."
var upgdesc26 = "Gain a free Accelerator Boost."
var upgdesc27 = "Gain free Accelerators based on unspent Coins."
var upgdesc28 = "Gain a free Multiplier per 160 Coin producers bought."
var upgdesc29 = "Gain a free Accelerator per 80 Coin producers bought."
var upgdesc30 = "Gain free Multipliers based on unspent Coins."
var upgdesc31 = "Gain 1 free Accelerator Boost per 2,000 Coin producers bought."
var upgdesc32 = "Gain free Accelerators based on Unspent Diamonds."
var upgdesc33 = "Gain 1 free Multiplier for each Accelerator Boost owned."
var upgdesc34 = "Gain 3% more free Multipliers."
var upgdesc35 = "Gain 2% more free Multipliers."
var upgdesc36 = "Multiply crystal production by Diamonds, maximum 1e5000x."
var upgdesc37 = "Multiply mythos shard production by the squared logarithm of Diamonds."
var upgdesc38 = "Gain +20% more offerings thanks to generous Discord Server Boosters!"
var upgdesc39 = "Gain +60% more Ant Speed thanks to generous Discord Server Boosters!"
var upgdesc40 = "Gain +9% more Ant Sacrifice rewards thanks to generous Discord Server Boosters!"
var upgdesc41 = "Multiply production based on unspent Mythos."
var upgdesc42 = "Multiply Mythos Shard production based on unspent Diamonds."
var upgdesc43 = "Multiply coin production by 1.01 per transcension (Max: 1e30x)."
var upgdesc44 = "Multiply Mythos gain on Transcend by 1.01 per transcension (Max: 1e6x)."
var upgdesc45 = "Gain free Accelerators based on Mythos Shards."
var upgdesc46 = "Accelerator Boosts are 5% stronger and do not reset prestige features."
var upgdesc47 = "Multiply Mythos Shard production based on your AP."
var upgdesc48 = "Multiply production based on owned Accelerators and Multipliers."
var upgdesc49 = "Gain free Multipliers based on unspent Mythos."
var upgdesc50 = "Gain +25% free Accelerators and Multipliers, but ONLY while doing challenges."
var upgdesc51 = "Increase production of all Mythos buildings based on owned Accelerator Boosts."
var upgdesc52 = "Mythos building exponent +0.025."
var upgdesc53 = "Augments produce more Shards based on Acceleration Multiplier."
var upgdesc54 = "Wizards produce more Enchantments based on Multiplier."
var upgdesc55 = "Grandmasters produce more Oracles based on Building power."
var upgdesc56 = "Worker production is multiplied by 1e+5000."
var upgdesc57 = "Investment production is multiplied by 1e+7500."
var upgdesc58 = "Printer production is multiplied by 1e+15000."
var upgdesc59 = "Coin Mint production is multiplied by 1e+25000."
var upgdesc60 = "Alchemies production is multiplied by 1e+35000." //Reincarnation Upgrades 61-100
var upgdesc61 = "Welcome to reincarnation! +5% Offering Recycle, +5 EXP/Offering!"
var upgdesc62 = "Completing challenges, automatically or manually, increase offerings gained in Reincarnation. Bonus subject to time multiplier!"
var upgdesc63 = "Crystal Production is multiplied based on Particles to the sixth power [Caps at 1e6000x]."
var upgdesc64 = "Mythos Shard Production is multiplied by your Particles squared."
var upgdesc65 = "Multiply the gain of Particles from Reincarnation by 5x!"
var upgdesc66 = "When you use an Offering, every unlocked rune will get 3 free experience."
var upgdesc67 = "Atom gain is increased by 3% per Particle producer purchased!"
var upgdesc68 = "Gain a free multiplier for every 1e1000x increase in tax."
var upgdesc69 = "Gain more Obtainium based on your particle gain. [Works with automation at a reduced rate!]"
var upgdesc70 = "Gain more Obtainium from Reincarnations based on how long your current reincarnation is."
var upgdesc71 = "Runes will gain (Rune Level) additional EXP per offering used."
var upgdesc72 = "Obtainium gain from Reincarnations is multiplied (1 + 2C) where C is #Reincarnation Challenges completed, up to 50x!"
var upgdesc73 = "Gain +100% free accelerator boosts and +10 free Crystal Upgrade levels, but only in Reincarnation Challenges."
var upgdesc74 = "Obtainium gain is increased based on highest ever unspent offerings. [Max: 100,000 unspent]"
var upgdesc75 = "Offering gain is increased based on highest ever unspent obtainium [Max: 30,000,000 obtainium]"
var upgdesc76 = "Ant generation kinda slow? I agree! Make all ant tiers 5x faster!"
var upgdesc77 = "This is Synergism, right? Let's make each purchased ant make all ants 0.4% faster."
var upgdesc78 = "Hate spam clicking? Autosacrifice AND Manual spending spends 1,000x more offerings at a time."
var upgdesc79 = "The Ant God will accept an arbitrary number of Particles in order to give you 10% more from sacrifices."
var upgdesc80 = "The Ant God will accept a larger arbitrary number of Particles to give you more ant ELO."
var upgdesc81 = "Automatically buy Workers if affordable." //Automation Upgrades 81-100
var upgdesc82 = "Automatically buy Investments if affordable."
var upgdesc83 = "Automatically buy Printers if affordable."
var upgdesc84 = "Automatically buy Coin Mints if affordable."
var upgdesc85 = "Automatically buy Alchemies if affordable."
var upgdesc86 = "Automatically buy Accelerators if affordable."
var upgdesc87 = "Automatically buy Multipliers if affordable."
var upgdesc88 = "Automatically buy Accelerator Boosts if affordable."
var upgdesc89 = "Unlock Automatic Transcensions."
var upgdesc90 = "Automatically buy from the Generator Shop."
var upgdesc91 = "Automatically buy Coin Upgrades."
var upgdesc92 = "Automatically buy Diamond Upgrades."
var upgdesc93 = "Generate 1% of Diamond Gain from prestiging per second."
var upgdesc94 = "Automatically buy Augments if affordable."
var upgdesc95 = "Automatically buy Enchantments if affordable."
var upgdesc96 = "Automatically buy Wizards if affordable."
var upgdesc97 = "Automatically buy Oracles if affordable."
var upgdesc98 = "Automatically buy Grandmasters if affordable."
var upgdesc99 = "Automatically buy Mythos Upgrades if affordable."
var upgdesc100 = "Generate 1% of Mythos Gain from transcending per second."
var upgdesc101 = "Alchemies will produce Coin Mints." // Generator Upgrades 101-120
var upgdesc102 = "Coin Mints will produce Printers."
var upgdesc103 = "Printers will produce Investments."
var upgdesc104 = "Investments will produce Workers."
var upgdesc105 = "Purchased Workers will produce Alchemies."
var upgdesc106 = "Refineries can produce Alchemies equal to Refineries owned raised to 0.10"
var upgdesc107 = "Refinery -> Alchemy exponent increased from 0.10 to 0.25."
var upgdesc108 = "Refinery -> Alchemy exponent increased from 0.25 to 0.50"
var upgdesc109 = "Refinery -> Alchemy exponent increased from 0.50 to 0.75"
var upgdesc110 = "Refinery -> Alchemy exponent increased from 0.75 to 1"
var upgdesc111 = "Augments can produce Pandora Boxes equal to Augments owned raised to 0.08"
var upgdesc112 = "Augment -> Box exponent increased from 0.08 to 0.16"
var upgdesc113 = "Augment -> Box exponent increased from 0.16 to 0.24"
var upgdesc114 = "Augment -> Box exponent increased from 0.24 to 0.32"
var upgdesc115 = "Augment -> Box exponent increased from 0.32 to 0.40"
var upgdesc116 = "Protons can produce Grandmasters equal to Protons owned raised to 0.05"
var upgdesc117 = "Protons -> Grandmaster exponent increased from 0.05 to 0.10"
var upgdesc118 = "Protons -> Grandmaster exponent increased from 0.10 to 0.15"
var upgdesc119 = "Protons -> Grandmaster exponent increased from 0.15 to 0.20"
var upgdesc120 = "Protons -> Grandmaster exponent increased from 0.20 to 0.25"
var upgdesc121 = "You probably autobought this. -50% taxes!"
var upgdesc122 = "Increase Crystal Upgrade 3 cap from +12% to +100%!"
var upgdesc123 = "Raise coin production to the power of 1.025. More EXPONENTS."
var upgdesc124 = "Gain +3% more effective ELO."
var upgdesc125 = "Gain +2% more green fragments for each completion of Challenge 10 [Up to +60%]."
var crystalupgdesc1 = "Gain a 5% multiplicative boost to crystals per AP per level."
var crystalupgdesc2 = "Gain a boost to crystals based on held coins per level."
var crystalupgdesc3 = "Each purchased Crystal producer increases generation of Crystal producers by .1% per level. [MAX: 12%]"
var crystalupgdesc4 = "Improve the multiplier to coin production by .05 exponent per level. [MAX: +10.00]"
var crystalupgdesc5 = "Every challenge completion increases crystal gain by 1% per level."
var crystalupgdesc6 = "Coming SOON!"
var crystalupgdesc7 = "Coming SOON!"
var crystalupgdesc8 = "Coming SOON!"
var constantUpgDesc1 = "Make all Tesseract buildings 5% more productive per level."
var constantUpgDesc2 = "Each Tesseract building bought increases the production of all of them by 0.1% per level [Max 10%]."
var constantUpgDesc3 = "Increase offering gain by 0.01% * log10(Constant + 1) * level"
var constantUpgDesc4 = "Increase obtainium gain by 0.04% * log10(Constant + 1) * level"
var constantUpgDesc5 = "Multiply ant speed by (1 + log10(Constant + 1)/10)^level"
var constantUpgDesc6 = "Add +2 free Ant Levels per level."
var constantUpgDesc7 = "Provides 17 free rune levels and increases the rune cap by 8 per level."
var constantUpgDesc8 = "Increase the rune EXP given by offerings by 10% per level [Additive]"
var constantUpgDesc9 = "When bought, rune effectiveness is increased by Log4(Talisman Shards +1) %"
var constantUpgDesc10 = "When bought, gain Log4(Constant + 1)% more Wow! Cubes and Tesseracts on ascension."

const upgradetexts = [null,
    function () { return "Worker Production x" + format((totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, totalCoinOwned)),2) },
    function () { return "Investment Production x" + format((totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, totalCoinOwned)),2) },
    function () { return "Printer Production x" + format((totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, totalCoinOwned)),2) },
    function () { return "Mint Production x" + format((totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, totalCoinOwned)),2) },
    function () { return "Alchemy Production x" + format((totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, totalCoinOwned)),2) },
    function () { return "All Coin production x" + format((totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, totalCoinOwned)),2) },
    function () { return "Gain " + Math.min(4, 1 + Math.floor(Decimal.log(player.fifthOwnedCoin + 1, 10))) + " free multipliers from bought Alchemies."},
    function () { return "+" +Math.floor(player.multiplierBought/7) + " free Accelerators."},
    function () { return "+" + Math.floor(player.acceleratorBought/10) + " free Multipliers."},
    function () { return "Worker Production x" + format(Decimal.pow(2, Math.min(50, player.secondOwnedCoin/15)),2)},
    function () { return "Generator efficiency x" + format(Decimal.pow(1.02, freeAccelerator),2)},
    function () { return "All Coin production x" + format(Decimal.min(1e4, Decimal.pow(1.01, player.prestigeCount)), 2)},
    function () { return "Investment Production x" + format(Decimal.min(1e50, Decimal.pow(player.firstGeneratedMythos.add(player.firstOwnedMythos).add(1), 4/3).times(1e10)),2)},
    function () { return "Printer Generation x" +format(Decimal.pow(1.15, freeAccelerator),2)},
    function () { return "Mint Generation x" +format(Decimal.pow(1.15, freeAccelerator),2)},
    function () { return "Gain " + format(Decimal.pow(acceleratorEffect, 1/3),2) + "x more Diamonds on prestige"},
    function () { return "Mint Production x1e100 (Duh)"},
    function () { return "Printer Prodction x" + format(Decimal.min(1e125, player.transcendShards.add(1)))},
    function () { return "Investment Production x" + format(Decimal.min(1e200, player.transcendPoints.times(1e30).add(1)))},
    function () { return "All coin production is further multiplied by " + format(Decimal.pow((totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, totalCoinOwned)),10),2) + " [Stacks with upgrade 1]!"},
    function () { return "+" + format(Math.floor((1 + (1/101 * freeMultiplier)))) + " Multipliers, +" + format(Math.floor((5 + (1/101 * freeAccelerator)))) + " Accelerators."},
    function () { return "+" + format(Math.floor((1 + (1/101 * freeMultiplier)))) + " Multipliers, +" + format(Math.floor((4 + (1/101 * freeAccelerator)))) + " Accelerators."},
    function () { return "+" + format(Math.floor((1 + (1/101 * freeMultiplier)))) + " Multipliers, +" + format(Math.floor((3 + (1/101 * freeAccelerator)))) + " Accelerators."},
    function () { return "+" + format(Math.floor((1 + (1/101 * freeMultiplier)))) + " Multipliers, +" + format(Math.floor((2 + (1/101 * freeAccelerator)))) + " Accelerators."},
    function () { return "+" + format(Math.floor((1 + (1/101 * freeMultiplier)))) + " Multipliers, +" + format(Math.floor((1 + (1/101 * freeAccelerator)))) + " Accelerators."},
    function () { return "+1 Accelerator Boost."},
    function () { return "+" + format(Math.min(250, Math.floor(Decimal.log(player.coins.add(1), 1e3))) +  Math.min(1750, Math.floor(Decimal.log(player.coins.add(1),1e15)) - 50)) + " Accelerators."},
    function () { return "+" + format(Math.min(1000, Math.floor((player.firstOwnedCoin + player.secondOwnedCoin + player.thirdOwnedCoin + player.fourthOwnedCoin + player.fifthOwnedCoin)/160))) + " Multipliers."},
    function () { return "+" + format(Math.floor(Math.min(2000,(player.firstOwnedCoin + player.secondOwnedCoin + player.thirdOwnedCoin + player.fourthOwnedCoin + player.fifthOwnedCoin) / 80))) + " Accelerators."},
    function () { return "+" + format(Math.min(75, Math.floor(Decimal.log(player.coins.add(1), 1e10))) + Math.min(925, Math.floor(Decimal.log(player.coins.add(1), 1e30)))) + " Multipliers."},
    function () { return "+" + format(Math.floor(totalCoinOwned/2000)) + " Accelerator Boosts"},
    function () { return "+" + format(Math.min(500, Math.floor(Decimal.log(player.prestigePoints.add(1), 1e25)))) + " Accelerators"},
    function () { return "+" + format(totalAcceleratorBoost) + " Multipliers"},
    function () { return "+" + format(Math.floor(3/103 * freeMultiplier)) + " Multipliers"},
    function () { return "+" + format(Math.floor(2/102 * freeMultiplier)) + " Multipliers"},
    function () { return "All Crystal producers x" + format(Decimal.min("1e5000", Decimal.pow(player.prestigePoints, 1/500)),2)},
    function () { return "All Mythos producers production x" + format(Decimal.pow(Decimal.log(player.prestigePoints.add(10),10),2),2)},
    function () { return "Gain +1% per Booster that the server has, up until 20!"},
    function () { return "Gain +2% per Booster that the server has, up until 30!"},
    function () { return "Every boost after 30 increases this reward by +1%, up until 50!"},
    function () { return "Welcome to Transcension! Coin production is multiplied by " + format(Decimal.min(1e30,Decimal.pow(player.transcendPoints.add(1), 1/2))) + "."},
    function () { return "All mythos shard producers are going into overdrive: x" + format(Decimal.min(1e50, Decimal.pow(player.prestigePoints.add(1), 1/50).dividedBy(2.5).add(1)),2) + " the production!"},
    function () { return "Multiply all coin production by " + format(Decimal.min(1e30, Decimal.pow(1.01, player.transcendCount)),2) + "!"},
    function () { return "Multiply Mythos gained in Transcension by " + format(Decimal.min(1e6, Decimal.pow(1.01, player.transcendCount)),2) + "!"},
    function () { return "+" + format(Math.min(2500, Math.floor(Decimal.log(player.transcendShards.add(1), 10)))) + " Accelerators!"},
    function () { return "It's kinda self-evident, ain't it?"},
    function () { return "Mythos-tier producers production x" + format(Math.pow(1.05, player.achievementPoints) * (player.achievementPoints + 1),2)},
    function () { return "Multiply coin production by a factor of " + format(Math.pow((totalMultiplier * totalAccelerator / 1000 + 1), 8)) + "!"},
    function () { return "+" + format(Math.min(50, Math.floor(Decimal.log(player.transcendPoints.add(1), 1e10)))) + " Multipliers through magic!"},
    function () { return "It's quite obvious what the benefit is, but you must be in a challenge for it to be in use!"},
    function () { return "Mythos-tier producers production x" + format(Math.pow(totalAcceleratorBoost, 2),2) + "!"},
    function () { return "Mythos-tier producers production x" + format(Decimal.pow(globalMythosMultiplier, 0.025),2) +"! It's like inception, or something."},
    function () { return "Augments will produce " + format(Decimal.min("1e1250", Decimal.pow(acceleratorEffect, 1/125)),2) + "x as many Mythos Shards."},
    function () { return "Wizards will produce " + format(Decimal.min("1e2000", Decimal.pow(multiplierEffect, 1/180)),2) + "x as many Enchantments; what productive spirits!"},
    function () { return "Grandmasters will produce " + format((Decimal.pow("1e1000", Math.min(1000, buildingPower - 1))),2) + "x as many Oracles!"},
    function () { return "It's quite obvious, ain't it?"},
    function () { return "Look above!"},
    function () { return "Look above!"},
    function () { return "Look above!"},
    function () { return "Look above!"},
    function () { return "+5% Offering Recycle/+5EXP per Offerings. Duh!"},
    function () { return "Base offering amount for Reincarnations +" + Math.floor(1/5 * (sumContents(player.challengecompletions))) + ". Challenge yourself!"},
    function () { return "All crystal production x" + format(Decimal.min("1e6000", Decimal.pow(player.reincarnationPoints.add(1),6)))},
    function () { return "All mythos shard production x" + format(Decimal.pow(player.reincarnationPoints.add(1),2))},
    function () { return "5x Particle gain from Reincarnations. Duh!"},
    function () { return "It's quite clear in the description!"},
    function () { return "The first particle-tier producer is " + format(Decimal.pow(1.03, player.firstOwnedParticles + player.secondOwnedParticles + player.thirdOwnedParticles + player.fourthOwnedParticles + player.fifthOwnedParticles),2) + "x as productive."},
    function () { return "Your compliance with tax laws provides you with " + format(Math.min(2500, Math.floor(1/1000 * Decimal.log(taxdivisor,10)))) + " free Multipliers, for some reason."},
    function () { return "Cosmic Magnetics will allow you to gain " + format(Math.min(10, Decimal.pow(Decimal.log(reincarnationPointGain.add(10), 10), 0.5)),2) + "x as much Obtainium reincarnating, x" + format(Math.min(3,Decimal.pow(Decimal.log(reincarnationPointGain.add(10), 10), 0.5)),2) + " automation gain."},
    function () { return "Your patience will allow you to gain " + format(Math.min(4, Math.max(1, Math.pow(player.reincarnationcounter/30,2))) * Math.pow(Math.min(19 + player.shopUpgrades.obtainiumTimerLevel * 0.6, 1 + player.reincarnationcounter / 200),2),2) + "x more Obtainium on Reincarnation."},
    function () { return "Writing's on the wall. Look above!"},
    function () { return "Obtainium multiplier: x" + Math.min(50, (1 + 2 * player.challengecompletions[6] + 2 * player.challengecompletions[7] + 2 * player.challengecompletions[8] + 2 * player.challengecompletions[9] + 2 * player.challengecompletions[10]))},
    function () { return "Same as Transcend upgrade 10, except you MUST be in a Reincarnation challenge in particular."},
    function () { return "Obtainium multiplier: x" + format((1 + 4 * Math.min(1, Math.pow(player.maxofferings / 100000, 0.5))),2)},
    function () { return "Offering Multiplier: x" + format((1 + 2 * Math.min(1, Math.pow(player.maxobtainium/30000000, 0.5))),2)},
    function () { return "Epic 5x Ants!"},
    function () { return "Ant Speed Multiplier: x" + format((Decimal.pow(1.005 + 5/100000 * player.researches[96], player.firstOwnedAnts + player.secondOwnedAnts + player.thirdOwnedAnts + player.fourthOwnedAnts + player.fifthOwnedAnts + player.sixthOwnedAnts + player.seventhOwnedAnts + player.eighthOwnedAnts)),3)},
    function () { return "Look above please lol"},
    function () { return "You will gain +10% rewards =)"},
    function () { return "Ant Elo +75 if this upgrade is purchased."},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "All you need to know is right above this message!"},
    function () { return "-50% Taxes duh!"},
    function () { return "+88% cap to Crystal Upgrade 3, duh!"},
    function () { return "Coin Production ^1.025, duh!"},
    function () { return "+3% Effective Ant ELO, duh!"},
    function () { return "+"+format(2 * player.challengecompletions[10],0)+"% more Uncommon fragments!"},
]

function upgradeeffects(i) {
    document.getElementById("upgradeeffect").innerHTML = "Effect: " + upgradetexts[i]()
}


function upgradedescriptions(i) {
    let x = "upgdesc" + i
    let y = window[x]
    let z = ""
    if (player.upgrades[i] > 0.5) {
        z = z + " BOUGHT!"
    }
    document.getElementById("upgradedescription").textContent = y + z
    if (player.upgrades[i] > 0.5) {
        document.getElementById("upgradedescription").style.color = "gold"
    } else {
        document.getElementById("upgradedescription").style.color = "white"
    }

    if (player.toggles.nine === true) {
        let type = ''
        if (i <= 20 && i >= 1) {
            type = 'coin'
        }
        if (i <= 40 && i >= 21) {
            type = 'prestige'
        }
        if (i <= 60 && i >= 41) {
            type = 'transcend'
        }
        if (i <= 80 && i >= 61) {
            type = 'reincarnation'
        }
        if (i <= 87 && i >= 81) {
            type = 'prestige'
        }
        if (i <= 93 && i >= 88) {
            type = 'transcend'
        }
        if (i <= 100 && i >= 94) {
            type = 'reincarnation'
        }
        if (type !== '' && i <= 80 && i >= 1) {
            buyUpgrades(type, i)
        }
        if (type !== '' && i <= 100 && i >= 81) {
            let q = i - 80;
            buyAutobuyers(q)
        }
        if (i <= 120 && i >= 101) {
            let q = i - 100
            buyGenerator(q)
        }
    }

    let currency = ''
    let color = ''
    if ((i <= 20 && i >= 1) || (i <= 110 && i >= 106) || (i <= 125 && i >= 121)) {
        currency = "Coins";
        color = "yellow"
    }
    if ((i <= 40 && i >= 21) || (i <= 105 && i >= 101) || (i <= 115 && i >= 111) || (i <= 87 && i >= 81)) {
        currency = "Diamonds";
        color = "cyan"
    }
    if ((i <= 60 && i >= 41) || (i <= 120 && i >= 116) || (i <= 93 && i >= 88)) {
        currency = "Mythos";
        color = "plum"
    }
    if ((i <= 80 && i >= 61) || (i <= 100 && i >= 94)) {
        currency = "Particles";
        color = "limegreen"
    }

    document.getElementById("upgradecost").textContent = "Cost: " + format(Decimal.pow(10, upgradeCosts[i])) + " " + currency
    document.getElementById("upgradecost").style.color = color
    upgradeeffects(i)
}

function crystalupgradedescriptions(i) {

    let v = "crystalupgdesc" + i
    let w = window[v]

    let u = i - 1
    let p = player.crystalUpgrades[u]
    let c = 0;
    if (player.upgrades[73] > 0.5 && player.currentChallenge.reincarnation !== 0) {
        c = 10
    }
    c += Math.floor(rune3level * (1 + player.researches[5] / 10) * (1 + player.researches[21] / 800) * (1 + player.researches[90] / 100) / 40) * 100 / 100
    let q = Decimal.pow(10, (crystalUpgradesCost[u] + crystalUpgradeCostIncrement[u] * Math.floor(Math.pow(player.crystalUpgrades[u] + 0.5 - c, 2) / 2)))
    document.getElementById("crystalupgradedescription").textContent = w
    document.getElementById("crystalupgradeslevel").textContent = "Level: " + p;
    document.getElementById("crystalupgradescost").textContent = "Cost: " + format(q) + " crystals"
}


function upgradeupdate(num, fast) {
    let x = "upg" + num
    if (player.upgrades[num] > 0.5 && ((num <= 60 || num > 80) && (num <= 93 || num > 100))) {
        document.getElementById(x).style.backgroundColor = "green"
    }
    if (player.upgrades[num] > 0.5 && ((num > 60 && num <= 80) || (num > 93 && num <= 100) || (num > 120))) {
        document.getElementById(x).style.backgroundColor = "white"
    }
    let a = "upgdesc" + num
    let b = window[a]
    let c = ""
    if (player.upgrades[num] > 0.5) {
        c = c + " BOUGHT!"

        if (!fast) {
            document.getElementById("upgradedescription").textContent = b + c
            document.getElementById("upgradedescription").style.color = "gold"
        }
    } else {
        document.getElementById(x).style.backgroundColor = "Black"
    }

    if (!fast) revealStuff()
}

var resdesc1 = "[1x1] Increase the number of free Accelerators gained by 20% from all sources."
var resdesc2 = "[1x2] Increase the number of free Multipliers gained by 20% from all sources."
var resdesc3 = "[1x3] Increase the number of free Accelerator Boosts gained by 20% from all sources."
var resdesc4 = "[1x4] Increase most rune effects by 10%. (Excludes any recycle chance bonus)"
var resdesc5 = "[1x5] Multiply the production of all crystal producers by 1e4."
var resdesc6 = "[1x6] Gain +5% free accelerators per level."
var resdesc7 = "[1x7] Gain +4% free accelerators per level."
var resdesc8 = "[1x8] Gain +3% free accelerators per level."
var resdesc9 = "[1x9] Gain +2% free accelerators per level."
var resdesc10 = "[1x10] Gain +2% free accelerators per level."
var resdesc11 = "[1x11] Gain +5% free multipliers per level."
var resdesc12 = "[1x12] Gain +4% free multipliers per level."
var resdesc13 = "[1x13] Gain +2.5% free multipliers per level."
var resdesc14 = "[1x14] Gain +1.5% free multipliers per level."
var resdesc15 = "[1x15] Gain +0.5% free multipliers per level."
var resdesc16 = "[1x16] Gain +5% free accelerator boosts per level."
var resdesc17 = "[1x17] Gain +5% free accelerator boosts per level."
var resdesc18 = "[1x18] Gain +2 free accelerator per accelerator boost."
var resdesc19 = "[1x19] Gain +2 free accelerator per accelerator boost."
var resdesc20 = "[1x20] Gain +3 free accelerator per accelerator boost!"
var resdesc21 = "[1x21] Most rune effects are increased by 1% per level. (Excludes any recycle chance bonus)"
var resdesc22 = "[1x22] Each Offering used increases Rune EXP by 0.6 per level."
var resdesc23 = "[1x23] Each Offering used increases Rune EXP by another 0.3 per level!"
var resdesc24 = "[1x24] Prestige and Transcensions base Offering is increased by 0.2 per level."
var resdesc25 = "[1x25] Reincarnations base Offering is increased by 0.6 per level."
var resdesc26 = "[2x1] Multiply all crystal producer production by 150% per level (multiplicative)."
var resdesc27 = "[2x2] Multiply all crystal producer production by 150% per level (multiplicative)."
var resdesc28 = "[2x3] Coin Exponent is increased by 0.08 per level."
var resdesc29 = "[2x4] Coin Exponent is increased by another 0.08 per level."
var resdesc30 = "[2x5] Coin Exponent is increased by ANOTHER 0.04 per level."
var resdesc31 = "[2x6] Want to bake cookies instead? You can go offline for 2 additional hours per level (base 24hr)."
var resdesc32 = "[2x7] Want to bake a lot of cookies instead? Extend the offline maximum timer by another 2 hours per level!"
var resdesc33 = "[2x8] Gain +11% more multiplier boosts from Mythos Shards per level."
var resdesc34 = "[2x9] Gain another +11% more multiplier boosts from Mythos Shards per level."
var resdesc35 = "[2x10] Gain ANOTHER +11% more multiplier boosts from Mythos Shards per level."
var resdesc36 = "[2x11] Building power scales 5% faster per level."
var resdesc37 = "[2x12] Building power scales 2.5% faster per level."
var resdesc38 = "[2x13] Building power scales 2.5% faster per level."
var resdesc39 = "[2x14] Building power affects crystal production at a reduced rate."
var resdesc40 = "[2x15] Building power affects mythos shard production at a reduced rate."
var resdesc41 = "[2x16] Start Reincarnations with automatic A.Boosts unlocked. Note: this research doesn't affect earning achievements."
var resdesc42 = "[2x17] Start Reincarnations with automatic Generators unlocked."
var resdesc43 = "[2x18] Start Reincarnations with automatic C.Upgrades unlocked."
var resdesc44 = "[2x19] Start Reincarnations with automatic D.Upgrades unlocked."
var resdesc45 = "[2x20] Start Reincarnations with automatic Diamond production unlocked."
var resdesc46 = "[2x21] Unlock the ability to automatically Reincarnate!"
var resdesc47 = "[2x22] Unlock Reincarnation upgrades 1-5. [Upgrades cost between 1 and 1,000 Particles]"
var resdesc48 = "[2x23] Unlock Reincarnation upgrades 6-10. [Upgrades cost between 100,000 and 1e22 Particles]"
var resdesc49 = "[2x24] Unlock Reincarnation upgrades 11-15. [Upgrades cost between 1e30 and 1e60 Particles]"
var resdesc50 = "[2x25] Unlock Reincarnation upgrades 16-20. [You might want to wait until challenge 8 is doable!]"
var resdesc51 = "[3x1] Taxation scales 5.0% slower per level. [Up to -50%]"
var resdesc52 = "[3x2] Taxation scales 2.5% slower per level. [Up to -75%]"
var resdesc53 = "[3x3] Taxation scales 1.25% slower per level. [Up to -87.5%]"
var resdesc54 = "[3x4] Taxation scales 0.625% slower per level. [Up to -93.75%]"
var resdesc55 = "[3x5] Taxation scales 0.3125% slower per level. [Up to -96.875%]"
var resdesc56 = "[3x6] Building Cost Scale is delayed by 0.5% per level."
var resdesc57 = "[3x7] Building Cost Scale is delayed by 0.5% per level."
var resdesc58 = "[3x8] Building Cost Scale is delayed by 0.5% per level."
var resdesc59 = "[3x9] Building Cost Scale is delayed by 0.5% per level."
var resdesc60 = "[3x10] Building Cost Scale is delayed by 0.5% per level."
var resdesc61 = "[3x11] Gain +50% of your best obtainium per second AUTOMATICALLY!"
var resdesc62 = "[3x12] Gain an additional +10% of your best obtainium per second automatically."
var resdesc63 = "[3x13] If your Reincarnation lasts at least 2 seconds you gain +1 obtainium per level."
var resdesc64 = "[3x14] If your Reincarnation lasts at least 5 seconds you gain +2 obtainium per level."
var resdesc65 = "[3x15] Increase the rate of gaining obtainium through reincarnations by 20% per level."
var resdesc66 = "[3x16] Increase the maximum number of [No Multipliers] completions by 5 per level."
var resdesc67 = "[3x17] Increase the maximum number of [No Accelerators] completions by 5 per level."
var resdesc68 = "[3x18] Increase the maximum number of [No Shards] completions by 5 per level."
var resdesc69 = "[3x19] Increase the maximum number of [Cost+] completions by 5 per level."
var resdesc70 = "[3x20] Increase the maximum number of [Diamond-] completions by 5 per level."
var resdesc71 = "[3x21] Automatically gain completions for Challenge 1, even without running it!"
var resdesc72 = "[3x22] Automatically gain completions for Challenge 2, even without running it!"
var resdesc73 = "[3x23] Automatically gain completions for Challenge 3, even without running it!"
var resdesc74 = "[3x24] Automatically gain completions for Challenge 4, even without running it!"
var resdesc75 = "[3x25] Automatically gain completions for Challenge 5, even without running it!"
var resdesc76 = "[4x1] Welcome to the land of expensive researches. Here's +10% obtainium per level to help you out!"
var resdesc77 = "[4x2] Increase the level cap of Thrift rune by 25 per level, and +2% exp for that rune in particular."
var resdesc78 = "[4x3] Increase the level cap of Speed rune by 25 per level, and +2% exp for that rune in particular."
var resdesc79 = "[4x4] Increase the level cap of Prism rune by 25 per level, and +2% exp for that rune in particular."
var resdesc80 = "[4x5] Increase the level cap of Duplication rune by 25 per level, and +2% exp for that rune in particular."
var resdesc81 = "[4x6] You thought the previous researches are expensive? You're going to need this! [+10% Obtainium/level]"
var resdesc82 = "[4x7] Permanently UNLOCK the Rune of Superior Intellect! [+%Ob / +Ant Speed / +Offering Timer Ext.]"
var resdesc83 = "[4x8] Taking forever to level up that SI Rune? Here's +5% SI Rune EXP per level."
var resdesc84 = "[4x9] Does the new rune kinda suck? Power it up! +0.5% level effectiveness for SI rune per level!"
var resdesc85 = "[4x10] Gain +0.01% more offerings per level per challenge completion!"
var resdesc86 = "[4x11] Yeah, going back to basics. +5% Accelerators/Level."
var resdesc87 = "[4x12] 0/5 Multipliers SUCK: +5% Multipliers/Level."
var resdesc88 = "[4x13] -1/5 A.Boosts SUCK: +5% Accelerator Boosts/Level."
var resdesc89 = "[4x14] -5/5 MULTIPLIERS STILL SUCK: +20% Multiplier Boosts/Level"
var resdesc90 = "[4x15] Runes don't suck at all, but why not make them even BETTER? +1% Rune Effect/level!"
var resdesc91 = "[4x16] Why is the border pink? A simple +5% Rune EXP for all runes!"
var resdesc92 = "[4x17] This border is pink too! Another simple +5% Rune EXP for all runes!"
var resdesc93 = "[4x18] I think Platonic forgot to fix the border color. +1 Accelerator Boost per 20 Summative Rune Levels, per level."
var resdesc94 = "[4x19] Platonic, this is unplayable 0/5. +20 Multiplier per 20 Summative Rune Levels, per level."
var resdesc95 = "[4x20] Gain +4 base Offerings from Reincarnations by purchasing this. Math Nerds will love this!"
var resdesc96 = "[4x21] Ants slow? Add +0.0002 to ant efficiency increase per ant purchased per level."
var resdesc97 = "[4x22] Add +4 level to the first six upgradable ants per level!"
var resdesc98 = "[4x23] Add +4 level to the next five upgradable ants per level!"
var resdesc99 = "[4x24] Is the Quark Shop too hot to resist? Get +1 Quark per hour from Exporting for each level (Up to +75)!"
var resdesc100 = "[4x25] Alright, Platonic is off his rocker. I don't expect you to get this but this will give +1 MORE Quark per hour from Exporting (Up to +100)!"
var resdesc101 = "[5x1] Alright, you're past the big wall. How about adding +.001 to Inceptus Ant efficiency per level?"
var resdesc102 = "[5x2] Gain +1 bonus level to ALL ants per level! A rainbow attack!"
var resdesc103 = "[5x3] Pray to Ant God for +5% sacrifice rewards per level!"
var resdesc104 = "[5x4] You're beginning to feel like an ant god (ant god): +5% sacrifice reward per level!"
var resdesc105 = "[5x5] Buy this and be able to run the first five challenges infinitely! (Note that requirements scale a LOT faster after 75)"
var resdesc106 = "[5x6] Engrave your talismans with obtainium to get +0.03 Rune Levels per talisman level per level."
var resdesc107 = "[5x7] Refine your talismans with the powder of Obtainium to get +0.03 Rune Levels per talisman level per level again."
var resdesc108 = "[5x8] A simple trick makes your base ant ELO increase by 25 per level!"
var resdesc109 = "[5x9] A more convoluted trick makes your base ant ELO increase by 25 per level again!"
var resdesc110 = "[5x10] Gain +1% more ELO from ant sources per level because why not?"
var resdesc111 = "[5x11] Gotta go fast [+25 max Speed Rune Level per level, +1% EXP to that rune]"
var resdesc112 = "[5x12] Double Trouble [+25 max Duplication Rune level per level, +1% EXP to that rune]"
var resdesc113 = "[5x13] Newton's Delight [+25 max Prism Rune Level per level, +1% EXP to that rune]"
var resdesc114 = "[5x14] Five-Finger discounts [+25 max Thrift Rune Level per level, +1% EXP to that rune]"
var resdesc115 = "[5x15] Scientific Breakthrough [+25 max SI Rune Level per level +1% EXP to that rune]"
var resdesc116 = "[5x16] Talismans have +0.015 Rune levels per talisman level per level. Levelception!"
var resdesc117 = "[5x17] Talismans have another +0.015 Rune levels per talisman level per level!"
var resdesc118 = "[5x18] For 'neutral' talisman effects, increase by +0.06 per level!"
var resdesc119 = "[5x19] Gain +0.25% Wow! Cubes per level upon Ascension."
var resdesc120 = "[5x20] Gain another +0.25% Wow! per level upon Ascension."
var resdesc121 = "[5x21] Bend time to your will, making all ticks 2% faster each level."
var resdesc122 = "[5x22] Adds +2% ant sacrifice reward per level."
var resdesc123 = "[5x23] Adds +40 base ant ELO per level."
var resdesc124 = "[5x24] Unlock the automator for Ant Sacrifice! [Good luck buying this.]"
var resdesc125 = "[5x25] Good luck, buddy. [+1 Export Quark/hour]"
var resdesc126 = "[6x1] 6 rows? That can't be... You've angered ant god (+1% Accelerators / level)"
var resdesc127 = "[6x2] Ant God gets angrier (+1% Accelerator Boosts / level)"
var resdesc128 = "[6x3] Ant God cannot believe your bravery (+1% Multipliers / level)"
var resdesc129 = "[6x4] Add +1 extra level to Crystal upgrade caps multiplied by Level * Log4(Common Fragments + 1)"
var resdesc130 = "[6x5] Unlock automation for Fortifying talismans! Activates every 2 real life seconds."
var resdesc131 = "[6x6] Turn some Ant Disciples against Ant God, giving +0.5% Rune Effectiveness per level."
var resdesc132 = "[6x7] Unite a couple other ants towards your side as well, giving +2 free ant levels per level."
var resdesc133 = "[6x8] Using some coalesced Obtainium, you can make Ant Sacrifice 3% better per level."
var resdesc134 = "[6x9 lol] The funny number. Gain a +0.69% bonus to blessing level per level."
var resdesc135 = "[6x10] Unlock automation for Enhancing talismans! Activates every 2 real life seconds."
var resdesc136 = "[6x11] It may be time to look back. Makes all ticks 1.5% faster each level."
var resdesc137 = "[6x12] Paying off Wow! Industries, they'll sponsor +1% cubes per level towards your Ascension bank."
var resdesc138 = "[6x13] When you open wow cubes you will get +0.1% blessings per level!"
var resdesc139 = "[6x14] Make all Tesseract buildings produce 2% faster per level."
var resdesc140 = "[6x15] The first of a Pentalogy, this tome reduces the base requirements of Challenge 10 by dividing it by 1e100M! A must-read!"
var resdesc141 = "[6x16] The Ant God has infiltrated your mind. Run away from your conscience! (+0.8% Accelerators / level)"
var resdesc142 = "[6x17] Run... RUN FASTER from your nightmares! (+0.8% Accelerator Boosts / level)"
var resdesc143 = "[6x18] Your resilience somehow gives you +0.8% Multipliers / level!"
var resdesc144 = "[6x19] Your obtainium gain is increased by 3 * Log4(Uncommon Fragments + 1) * level%! Why is this? I don't know."
var resdesc145 = "[6x20] Your knowledge from the ant war will help you automatically gain Mortuus Est Ant levels."
var resdesc146 = "[6x21] Feed your Disciples pure Obtainium to make your runes +0.4% more effective per level."
var resdesc147 = "[6x22] Feed your ants their own crumbs to make them Log(Crumbs + 10)x faster!"
var resdesc148 = "[6x23] Increase your base Ant ELO by 2.5% per level!"
var resdesc149 = "[6x24] You will gain +0.03% more Offerings per level per level in the Midas Talisman!"
var resdesc150 = "[6x25] Auto Challenge. Enough said. (Lets you automatically run and complete challenges!)"
var resdesc151 = "[7x1] A new row, old upgrade. Makes all ticks 1.2% faster each level."
var resdesc152 = "[7x2] Wow! Industries sponsors another +0.9% per level towards your Ascension bank!"
var resdesc153 = "[7x3] Hey, I totally didn't steal this idea. For each level, you gain 12 blessings of Wow! Cube tier for every Tesseract opened."
var resdesc154 = "[7x4] Make all Tesseract buildings produce 3% faster per level. Hey, isn't that more than the last research tier?"
var resdesc155 = "[7x5] Tome 2 of 5: How to win over the Ant universe. Another e100M Divider to Challenge 10 Base Requirement on purchase."
var resdesc156 = "[7x6] What, again? Alright. +0.6% Accelerators / level."
var resdesc157 = "[7x7] Gas, gas, gas. +0.6% Accelerator Boosts / level."
var resdesc158 = "[7x8] Dupe DUPE DUPE. +0.6% Multipliers / level."
var resdesc159 = "[7x9] Somehow, I can't explain why, you reduce your taxes by 2% multiplicative, based on 3/5 * log10(Rare Fragments)!"
var resdesc160 = "[7x10] Don't you hate how Ascensions reset your blessings? No more! Keep your blessing levels on Ascend."
var resdesc161 = "[7x11] +0.3% Rune Effectiveness / level [NOTE TO TESTER: I did not really have time to make flavor texts after 7x10 sorry!]"
var resdesc162 = "[7x12] +0.01% to Inceptus power / level"
var resdesc163 = "[7x13] +2% Ant Sacrifice rewards / level"
var resdesc164 = "[7x14] +8% Spirit Power / level"
var resdesc165 = "[7x15] Gain 2x the Spirit buffs in challenges!"
var resdesc166 = "[7x16] +0.9% faster ticks / level"
var resdesc167 = "[7x17] +0.8% cubes in Ascension Bank / level"
var resdesc168 = "[7x18] +0.08% blessings / level"
var resdesc169 = "[7x19] +4% faster Tesseract Buildings / level"
var resdesc170 = "[7x20] Tome 3 of 4: e100M Divider!"
var resdesc171 = "[7x21] +0.4% Accelerators / level"
var resdesc172 = "[7x22] +0.4% Accelerator Boosts / level"
var resdesc173 = "[7x23] +0.4% Multipliers / level"
var resdesc174 = "[7x24] Epic Fragments boost Blessing power by 10% * Log10(Epic Shards + 1)"
var resdesc175 = "[7x25] Automatically buy Constant Upgrades, if they are affordable! They also no longer subtract from your constant."
var resdesc176 = "[8x1] +0.2% Rune Effectiveness / level"
var resdesc177 = "[8x2] +Log10(Crumbs)% to ant production per level"
var resdesc178 = "[8x3] +666 Base ELO per level!"
var resdesc179 = "[8x4] +0.04% more offerings per level per midas level!"
var resdesc180 = "[8x5] +1 Export Quark per hour, yet again. [Can be leveled twice!]"
var resdesc181 = "[8x6] +0.6% faster ticks / level"
var resdesc182 = "[8x7] +0.7% cubes in ascension bank / level"
var resdesc183 = "[8x8] When you open a Hypercube, you also open a Tesseract! (This works with 7x3, if you were curious.)"
var resdesc184 = "[8x9] +5% faster Tesseract Buildings / level"
var resdesc185 = "[8x10] Tome 4 of 4: e100M Divider!"
var resdesc186 = "[8x11] +0.2% Accelerators / level"
var resdesc187 = "[8x12] +0.2% Accelerator Boosts / level"
var resdesc188 = "[8x13] +0.2% Multipliers / level"
var resdesc189 = "[8x14] Legendary Fragments increase Spirit power by +15% multiplied by Log10(Legendary Fragments + 1)"
var resdesc190 = "[8x15] Unlock Automations for all 5 of the Tesseract buildings."
var resdesc191 = "[8x16] +0.1% Rune Effectiveness / level"
var resdesc192 = "[8x17] Each purchased level of Mortuus also increases Ascension Cube reward by +0.03%"
var resdesc193 = "[8x18] +1% Ant Sacrifice Reward per level"
var resdesc194 = "[8x19] Increases both Spirit AND Blessing power by 2% per level"
var resdesc195 = "[8x20] Gain +1 export Quark per level, and increases the max timer to redeem quarks by 12.5 hours each!"
var resdesc196 = "[8x21] +0.3% faster ticks / level"
var resdesc197 = "[8x22] +0.6% cubes in Ascension Bank / level"
var resdesc198 = "[8x23] +0.06% blessings when using cubes / level!"
var resdesc199 = "[8x24] +10% faster Tesseract Buildings / level"
var resdesc200 = "[8x25] Gain the power of a thousand suns! +0.01% Accelerators [And Boosts], +0.01% Multipliers, +0.1% Offerings, +0.10% Cubes, +2 Max Rune level, + Floor(level/100) max Talisman Level, +Floor(level/40) free Ant Level each purchase."

function researchdescriptions(i, auto) {
    auto = auto || false
    let c14 = 0;
    let spiritBonus = 0;
    if (i <= 5) {
        c14 += player.challengecompletions[14]
    }
    if (i === 84) {
        spiritBonus += Math.ceil(20 * calculateCorruptionPoints() / 400 * effectiveRuneSpiritPower[5])
    }

    let x = "resdesc" + i
    let y = window[x]
    let z = ""
    let p = "res" + i
    z = " Cost: " + (format(researchBaseCosts[i], 0, true)) + " Obtainium"
    if (player.researches[i] === (researchMaxLevels[i] + c14 + spiritBonus)) {
        document.getElementById("researchcost").style.color = "Gold"
        document.getElementById("researchinfo3").style.color = "plum"
        z = z + " || MAXED!"
    } else {
        document.getElementById("researchcost").style.color = "limegreen"
        document.getElementById("researchinfo3").style.color = "white"
    }

    if (player.researchPoints < researchBaseCosts[i] && player.researches[i] < (researchMaxLevels[i] + c14 + spiritBonus)) {
        document.getElementById("researchcost").style.color = "crimson"
    }

    if (!auto && !player.autoResearchToggle) {
        if (player.researches[i] > 0.5 && player.researches[i] < (researchMaxLevels[i] + c14 + spiritBonus)) {
            document.getElementById(p).style.backgroundColor = "purple"
        }
    }
    if (player.researches[i] > 0.5 && player.researches[i] >= (researchMaxLevels[i] + c14 + spiritBonus)) {
        document.getElementById(p).style.backgroundColor = "green"
    }

    document.getElementById("researchinfo2").textContent = y
    document.getElementById("researchcost").textContent = z
    document.getElementById("researchinfo3").textContent = "Level " + player.researches[i] + "/" + (researchMaxLevels[i] + c14 + spiritBonus)
}

function updateResearchBG(j) {

    if (player.researches[j] > researchMaxLevels[j]) {
        player.researchPoints += (player.researches[j] - researchMaxLevels[j]) * researchBaseCosts[j]
        player.researches[j] = researchMaxLevels[j]
    }

    let k = "res" + j
    if (player.researches[j] > 0.5 && player.researches[j] < researchMaxLevels[j]) {
        document.getElementById(k).style.backgroundColor = "purple"
    } else if (player.researches[j] > 0.5 && player.researches[j] >= researchMaxLevels[j]) {
        document.getElementById(k).style.backgroundColor = "green"
    } else {
        document.getElementById(k).style.backgroundColor = "black"
    }
}

function returnConstUpgEffect(i) {
    let show = "+1"
    switch (i) {
        case 1:
            show = "Tesseract building production x" + format(Decimal.pow(1.05, player.constantUpgrades[1]), 2, true);
            return show;
        case 2:
            show = "Tesseract building production x" + format(Decimal.pow(1 + 0.001 * Math.min(100, player.constantUpgrades[2]), player.ascendBuilding1.owned + player.ascendBuilding2.owned + player.ascendBuilding3.owned + player.ascendBuilding4.owned + player.ascendBuilding5.owned), 2, true)
            return show;
        case 3:
            show = "Offering gain x" + format(1 + 0.0001 * player.constantUpgrades[3] * Decimal.log(player.ascendShards.add(1), 10), 4, true)
            return show;
        case 4:
            show = "Obtainium gain x" + format(1 + 0.0004 * player.constantUpgrades[4] * Decimal.log(player.ascendShards.add(1), 10), 4, true)
            return show;
        case 5:
            show = "Ant Speed x" + format(Decimal.pow(1 + 0.1 * Decimal.log(player.ascendShards.add(1), 10), player.constantUpgrades[5]), 2, true)
            return show;
        case 6:
            show = "+" + format(2 * player.constantUpgrades[6]) + " free Ant Levels"
            return show;
        case 7:
            show = "+" + format(17 * player.constantUpgrades[7]) + " free Rune Levels, +" + format(8 * player.constantUpgrades[7]) + " to Rune Cap"
            return show;
        case 8:
            show = "Rune EXP x" + format(1 + 1 / 10 * player.constantUpgrades[8], 2, true)
            return show;
        case 9:
            show = "Runes effectiveness x" + format(1 + 0.01 * Math.log(player.talismanShards + 1) / Math.log(4) * Math.min(1, player.constantUpgrades[9]), 4, true)
            return show;
        case 10:
            show = "Cubes/Tesseracts on Ascension x" + format(1 + 0.01 * Decimal.log(player.ascendShards.add(1), 4) * Math.min(1, player.constantUpgrades[10]), 4, true)
            return show;
    }
}

function getConstUpgradeMetadata(i) {
    let toBuy = 0;
    let cost = new Decimal("1")
    toBuy = Math.max(0, Math.floor(1 + Decimal.log(Decimal.max(0.01, player.ascendShards), 10) - Math.log(constUpgradeCosts[i]) / Math.log(10)))
    if (toBuy > player.constantUpgrades[i]) {
        cost = Decimal.pow(10, toBuy - 1).times(constUpgradeCosts[i])
    } else {
        cost = Decimal.pow(10, player.constantUpgrades[i]).times(constUpgradeCosts[i])
    }

    return [Math.max(1, toBuy - player.constantUpgrades[i]), cost]
}

function constantUpgradeDescriptions(i) {
    let metaData = getConstUpgradeMetadata(i)
    let x = 'constantUpgDesc' + i
    let y = window[x]
    document.getElementById("constUpgradeDescription").textContent = y
    document.getElementById("constUpgradeLevel2").textContent = format(player.constantUpgrades[i])
    document.getElementById("constUpgradeCost2").textContent = format(metaData[1]) + " [+" + format(metaData[0]) + " LVL]"
    document.getElementById("constUpgradeEffect2").textContent = returnConstUpgEffect(i)
}

function buyConstantUpgrades(i) {
    let metaData = getConstUpgradeMetadata(i)
    if (player.ascendShards.greaterThanOrEqualTo(metaData[1])) {
        player.constantUpgrades[i] += metaData[0];
        player.ascendShards = player.ascendShards.sub(metaData[1]);
        constantUpgradeDescriptions(i);
    }
    calculateAnts();
    calculateRuneLevels();
}